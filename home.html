<!doctype html>
<html lang="en-US">
  <head>
    <title>Contact Manager</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="stylesheets/reset.css">
    <link rel="stylesheet" href="stylesheets/style.css" />
  </head>
  <body>
    <header>
      <h1>Contact Manager</h1>
      <p class="subtitle">Using Localstorage, Handlebars and Flexbox</p>
    </header>

    <main>
    </main>

    <script id="homepage" type="text/x-handlebars">
      <div class="homepage">
        <aside class="secondary row">
          <div class="filter">
            <h3>Filter by Tags</h3>
            <a href="#" class="reset auto">Reset</a>
          </div>
          <form id="tagForm" action="" method="get">
            <fieldset>
              {{#if tags}}
              <ul class="filtertags">
                {{> filtertags}}
              </ul>
              {{else}}
              <p>No available tags</p>
              {{/if}}
            </fieldset>
          </form>
        </aside>

        <div class="primary row">
          <section class="add-contact">
            <div class="col" data-id={{currentID}}>
              <a class="button add" href="#">Add Contact</a>
            </div>
            <div class="col">
              <input type="text" class="search" placeholder="Search">
            </div>
          </section>

          <section class="contacts">
            {{> contacts}}
          </section>
        </div>
      </div>
    </script>

    <script id="contacts" data-type="partial" type="text/x-handlebars">
      {{#if contacts}}
        {{#each contacts}}
          {{> contact}}
        {{/each}}
      {{else}}
      <div class="no-contacts">
        <h3>There are no contacts</h3>
        <a class="button add" href="#">Add Contact</a>
      </div>
      {{/if}}
    </script>

    <script id="contact" data-type="partial" type="text/x-handlebars">
      <div class="contact" data-id="{{id}}">
        <h3>{{name}}</h3>
        <h4>Phone Number:</h4>
        <p>{{phone}}</p>
        <h4>Email:</h4>
        <p>{{email}}</p>
        <h4>Tags:</h4>
        <ul class="contact-tags">
        {{> contacttags}}
        </ul>
        <div class="contact-buttons">
          <a href="#" class="edit button auto">Edit</a>
          <a href="#" class="delete button auto">Delete</a>
        </div>
      </div>
    </script>

    <script id="filtertags" data-type="partial" type="text/x-handlebars">
      {{#each tags}}
      <li>
        <label>
          <input name="tags" type="radio" value="{{this}}"/>
          {{this}}
        </label>
      </li>
      {{/each}}
    </script>

    <script id="contacttags" data-type="partial" type="text/x-handlebars">
      {{#each tags}}
        <li class="tag" name="{{this}}">{{this}}</li>
      {{/each}}
    </script>

    <script id="contact_form" type="text/x-handlebars">
      <div class="contact-form">
        <h2>
          {{#if isNew}}
          Create Contact
          {{else}}
          Edit Contact
          {{/if}}
        </h2>

        <hr>

        <form id="contactForm" data-id="{{id}}" action="" method="post">
          <div class="form_group">
            <label for="name">Full Name:</label>
            <input id="name" name="name" type="text" value="{{name}}" required>
          </div>

          <div class="form_group">
            <label for="email">E-Mail:</label>
            <input id="email" name="email" type="email" value="{{email}}" required>
          </div>

          <div class="form_group">
            <label for="phone">Telephone Number:</label>
            <input id="phone" name="phone" type="tel" value="{{phone}}" required>
          </div>

          <div class="form_group">
            <label for="tag_names">Tags:</label>
            <input id="tag_names" name="tags" type="text" placeholder="Separate tags by comma" value="{{tags}}">
          </div>

          <div class="form_buttons">
            <div class="button-container">
              {{#if isNew}}
              <input class="button submit" type="submit" value="Submit">
              {{else}}
              <input class="button edit-contact" type="submit" value="Edit">
              {{/if}}
            </div>

            <div class="button-container">
              <input class="button cancel" type="button" value="Cancel">
            </div>
          </div>
        </form>
      </div>
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"></script>
    <script src="javascripts/script.js"></script>
  </body>
</html>
